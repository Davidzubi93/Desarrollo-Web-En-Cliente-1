<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
    <title>Eventos 5</title>

    <!-- Bootstrap -->
    <!-- Latest compiled and minified CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">

    <!-- Optional theme -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap-theme.min.css" integrity="sha384-rHyoN1iRsVXV4nD0JutlnGaslCJuC7uwjduW9SVrLvRYooPp2bWYgmgJQIXwl/Sp" crossorigin="anonymous">

    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->


    <script type="text/javascript">
    /*
    5.	Crear un área de texto que a medida que se escriba en él se
    muestre un en un cuadro de texto la cantidad de caracteres disponibles para
    seguir escribiendo(el máximo serán 140 caracteres).
    Debajo del numero de caracteres que nos quedan habra una espacio en el que nos diga el
    codigo del caracter que se ha pulsado y en caso de ser mayuscula esa zona cambiara de color.
    */
    window.onload = function(){
          var textuArea = document.getElementById("descripcion");
          textuArea.addEventListener("keypress", karaktereInf);
          textuArea.addEventListener("keydown", karakterekont);
          
        } 
    function karakterekont(event){
     
      var maxKont = 140;
      
      var kontadorea = this.value.length;
     
      var kontFalta = maxKont - kontadorea;
      var karaktereArea = document.getElementById("letras");
      
      karaktereArea.innerHTML = "Karaktereak: " + kontFalta + "/" + maxKont + " Karaktere Kodea: " + "borratu";
    }    
        
    function karaktereInf(event){
      console.log(this.value);
      var maxKont = 140;
      this.setAttribute("maxlength", maxKont);
      var kontadorea = this.value.length;
      console.log(kontadorea);
      var kontFalta = maxKont - kontadorea;
      var karaktereArea = document.getElementById("letras");
      var karaktereKodea = event.which || event.keyCode;
      console.log(karaktereKodea);
      if (karaktereKodea>=97 && karaktereKodea<=122){
        this.style.backgroundColor = "red";
        
      }else if(karaktereKodea>=65 && karaktereKodea<=90) {
        this.style.backgroundColor = "yellow";
      }else{
        this.style.backgroundColor = "white";
      }
      karaktereArea.innerHTML = "Karaktereak: " + kontFalta + "/" + maxKont + " Karaktere Kodea: " + karaktereKodea;
    }

    </script>
  </head>
  <body>
    <div align="center">
      <textarea id="descripcion" cols="40" rows="3" name="descripcion"> </textarea></br>
      <span id="letras">140/140 caracteres</span>
    </div>

   

    <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
    <!-- Include all compiled plugins (below), or include individual files as needed -->
    <!-- Latest compiled and minified JavaScript -->
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>
  </body>
</html>